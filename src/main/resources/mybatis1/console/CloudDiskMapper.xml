<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="CloudDiskMapper">
	
	<select id="datalistPage" parameterType="page" resultType="pd">
		select
		<include refid="Field"></include>
		from 
		<include refid="tableName"></include>
		<!-- where
			FROM_USERNAME = #{pd.FROM_USERNAME}
		and
			TYPE = #{pd.TYPE}
		<if test="pd.keywords!= null and pd.keywords != ''">关键词检索
			and
				(
					FROM_USERNAME LIKE CONCAT(CONCAT('%', #{pd.keywords}),'%')
					 or 
					TO_USERNAME LIKE CONCAT(CONCAT('%', #{pd.keywords}),'%')
					 or 
					CONTENT LIKE CONCAT(CONCAT('%', #{pd.keywords}),'%') 
				)
		</if>
		<if test="pd.lastLoginStart!=null and pd.lastLoginStart!=''">开始时间检索
			and SEND_TIME &gt;= #{pd.lastLoginStart} 
		</if>
		<if test="pd.lastLoginEnd!=null and pd.lastLoginEnd!=''">结束时间检索
			and SEND_TIME &lt;= #{pd.lastLoginEnd} 
		</if>
		<if test="pd.STATUS != null and pd.STATUS != ''">状态检索
			and STATUS = #{pd.STATUS} 
		</if>
		order by STATUS desc -->
	</select>

</mapper>